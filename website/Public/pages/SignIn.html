<head>
    <link rel="stylesheet" href="../CSS/style.css">
</head>
<body class="backgroundbox">
	<form action="" class="centerbox" method="POST">
	<p>User name:<br><input type="text" maxlength="45" required="true" name="userName"></p> 
	<p>Password:<br><input type="password" required="true" name="pswd"></p>
	<button type="submit">Sign in</button>
	<p><a href="./">Return to Home page</a></p>
	</form>
	<script>
		document.querySelectorAll("form")[0].onsubmit = (e)=>{
			e.preventDefault();
			let inputs = document.querySelectorAll("input");
			fetch("../API/SignInResolve.php",{
				method:"POST",
				headers:{
					"Content-Type":"application/json",
				},
				body:JSON.stringify({
					userName : inputs[0].value,
					pswd : inputs[1].value
				})
			}).then((resp)=>{
				return resp.json();
			}).then((thing)=>{
				if(!thing.status){
					alert(thing.data);
				}
				else{
					alert("sign in successful");
					//implement redirect
					//implement signed in state... somehow
				}
			});
		}

	</script>
</body>